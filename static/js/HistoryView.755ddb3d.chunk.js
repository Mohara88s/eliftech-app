(this["webpackJsonpeliftech-app"]=this["webpackJsonpeliftech-app"]||[]).push([[2],{108:function(e,r,t){"use strict";var n={getOrdersError:function(e){return e.orders.ordersError},getOrdersLoading:function(e){return e.orders.ordersLoading},getOrders:function(e){return e.orders.orders},getAddOrderErrors:function(e){return e.orders.addOrderErrors},getAddOrderLoading:function(e){return e.orders.addOrderLoading},getName:function(e){return e.orders.name},getEmail:function(e){return e.orders.email},getPhone:function(e){return e.orders.phone},getAddresss:function(e){return e.orders.address}};r.a=n},109:function(e,r,t){"use strict";t.d(r,"a",(function(){return d})),t.d(r,"c",(function(){return l})),t.d(r,"b",(function(){return j}));var n=t(39),a=t.n(n),c=t(45),s=t(6),o=t(40),i=t.n(o),d=function(e){return function(){var r=Object(c.a)(a.a.mark((function r(t){var n,c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t(Object(s.b)()),r.prev=1,r.next=4,i.a.patch("/orders",e);case 4:n=r.sent,c=n.data,t(Object(s.c)(c.order)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),t(Object(s.a)(r.t0.response.data.message));case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()},l=function(e){var r=e.orderEmail,t=void 0===r?"":r,n=e.orderPhone,o=void 0===n?"":n;return function(){var e=Object(c.a)(a.a.mark((function e(r){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(Object(s.l)()),e.prev=1,e.next=4,i.a.get("/orders?page=1&limit=10&email=".concat(t,"&phone=").concat(o));case 4:n=e.sent,c=n.data,console.log(c),r(Object(s.m)(c.orders)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r(Object(s.k)(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(r){return e.apply(this,arguments)}}()},j=function(e){return function(){var r=Object(c.a)(a.a.mark((function r(t){var n,c;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t(Object(s.i)()),r.prev=1,r.next=4,i.a.get("/orders/".concat(e));case 4:n=r.sent,c=n.data,t(Object(s.j)(c.order)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),t(Object(s.h)(r.t0.response.data.message));case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}},115:function(e,r,t){e.exports={ErrorMessage:"ErrorMessage_ErrorMessage__2kG-g"}},116:function(e,r,t){e.exports={Form:"HistoryPage_Form__2sUCq",Form__Control:"HistoryPage_Form__Control__2QfKc",Form__Button:"HistoryPage_Form__Button___Js8Z"}},121:function(e,r,t){"use strict";t.r(r),t.d(r,"default",(function(){return N}));var n=t(21),a=t(0),c=t(17),s=t(119),o=t(103),i=t(104),d=t(2),l=t(8),j=t(9),u=t.n(j),b=t(14),h=t(1),O=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],p=a.forwardRef((function(e,r){var t=e.bsPrefix,n=e.className,a=e.striped,c=e.bordered,s=e.borderless,o=e.hover,i=e.size,j=e.variant,p=e.responsive,m=Object(l.a)(e,O),x=Object(b.b)(t,"table"),f=u()(n,x,j&&"".concat(x,"-").concat(j),i&&"".concat(x,"-").concat(i),a&&"".concat(x,"-striped"),c&&"".concat(x,"-bordered"),s&&"".concat(x,"-borderless"),o&&"".concat(x,"-hover")),v=Object(h.jsx)("table",Object(d.a)(Object(d.a)({},m),{},{className:f,ref:r}));if(p){var g="".concat(x,"-responsive");return"string"===typeof p&&(g="".concat(g,"-").concat(p)),Object(h.jsx)("div",{className:g,children:v})}return v})),m=t(109),x=t(108),f=t(105),v=t(115),g=t.n(v);function _(e){var r=e.message;return Object(h.jsx)("div",{className:g.a.ErrorMessage,children:Object(h.jsxs)(f.a,{variant:"danger",children:[Object(h.jsx)(f.a.Heading,{children:"Error:"}),Object(h.jsx)("p",{children:r})]})})}var y=t(116),E=t.n(y);function F(){var e=Object(c.b)(),r=Object(a.useState)(""),t=Object(n.a)(r,2),d=t[0],l=t[1],j=Object(a.useState)(""),u=Object(n.a)(j,2),b=u[0],O=u[1],f=Object(a.useState)(""),v=Object(n.a)(f,2),g=v[0],y=v[1],F=Object(c.c)(x.a.getOrders),N=Object(c.c)(x.a.getOrdersError),C=Object(c.c)(x.a.getOrdersLoading);Object(a.useEffect)((function(){console.log(F)}),[F]);var k=function(e){var r=e.target,t=r.name,n=r.value;switch(t){case"id":return l(n);case"email":return O(n);case"phone":return y(n);default:return}},w=function(r){switch(r.target.name){case"id":return e(Object(m.b)(d));case"email":return e(Object(m.c)({orderEmail:b}));case"phone":return e(Object(m.c)({orderPhone:g}));default:return}};return Object(h.jsxs)("div",{children:[Object(h.jsxs)(s.a,{className:E.a.Form,children:[Object(h.jsxs)(s.a.Group,{className:E.a.Form__Group,controlId:"id",children:[Object(h.jsx)(s.a.Label,{children:"Id"}),Object(h.jsx)(s.a.Control,{type:"text",name:"id",placeholder:"Enter orders id",value:d,onChange:k,className:E.a.Form__Control})]}),Object(h.jsxs)(o.a,{variant:"primary",onClick:w,name:"id",className:E.a.Form__Button,disabled:!d,children:[!C&&Object(h.jsx)("span",{children:"Search"}),C&&Object(h.jsx)(i.a,{animation:"border",as:"span",size:"sm"})]}),Object(h.jsxs)(s.a.Group,{className:E.a.Form__Group,controlId:"email",children:[Object(h.jsx)(s.a.Label,{children:"Email"}),Object(h.jsx)(s.a.Control,{type:"email",name:"email",placeholder:"Enter your email",value:b,onChange:k,className:E.a.Form__Control})]}),Object(h.jsxs)(o.a,{variant:"primary",onClick:w,name:"email",className:E.a.Form__Button,disabled:!b,children:[!C&&Object(h.jsx)("span",{children:"Search"}),C&&Object(h.jsx)(i.a,{animation:"border",as:"span",size:"sm"})]}),Object(h.jsxs)(s.a.Group,{className:E.a.Form__Group,controlId:"phone",children:[Object(h.jsx)(s.a.Label,{children:"Phone"}),Object(h.jsx)(s.a.Control,{type:"phone",name:"phone",placeholder:"Enter your phone",value:g,onChange:k,className:E.a.Form__Control})]}),Object(h.jsxs)(o.a,{variant:"primary",onClick:w,name:"phone",className:E.a.Form__Button,disabled:!g,children:[!C&&Object(h.jsx)("span",{children:"Search"}),C&&Object(h.jsx)(i.a,{animation:"border",as:"span",size:"sm"})]})]}),N&&Object(h.jsx)(_,{message:"No data by your query"}),Object(h.jsxs)(p,{striped:!0,bordered:!0,hover:!0,children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"orders id"}),Object(h.jsx)("td",{children:"client"}),Object(h.jsx)("td",{children:"email"}),Object(h.jsx)("td",{children:"phone"}),Object(h.jsx)("td",{children:"total price"}),Object(h.jsx)("td",{children:"shop"}),Object(h.jsx)("td",{children:"date"})]})}),Object(h.jsx)("tbody",{children:F.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e._id}),Object(h.jsx)("td",{children:e.name}),Object(h.jsx)("td",{children:e.email}),Object(h.jsx)("td",{children:e.phone}),Object(h.jsx)("td",{children:e.price}),Object(h.jsx)("td",{children:e.shop.name}),Object(h.jsxs)("td",{children:[new Date(e.createdAt).toLocaleTimeString()," ",new Date(e.createdAt).toLocaleDateString()]})]},e._id)}))})]})]})}function N(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(F,{})})}}}]);
//# sourceMappingURL=HistoryView.755ddb3d.chunk.js.map