(this["webpackJsonpeliftech-app"]=this["webpackJsonpeliftech-app"]||[]).push([[4],{110:function(e,t,r){"use strict";var a={getOrdersError:function(e){return e.orders.ordersError},getOrdersLoading:function(e){return e.orders.ordersLoading},getOrders:function(e){return e.orders.orders},getAddedOrder:function(e){return e.orders.addedOrder},getAddOrderErrors:function(e){return e.orders.addOrderErrors},getAddOrderLoading:function(e){return e.orders.addOrderLoading},getName:function(e){return e.orders.name},getEmail:function(e){return e.orders.email},getPhone:function(e){return e.orders.phone},getAddresss:function(e){return e.orders.address}};t.a=a},111:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return j}));var a=r(39),n=r.n(a),c=r(45),s=r(6),o=r(40),d=r.n(o),i=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(r){var a,c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Object(s.b)()),t.prev=1,t.next=4,d.a.patch("/orders",e);case 4:a=t.sent,c=a.data,r(Object(s.c)(c.order)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r(Object(s.a)(t.t0.response.data.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},u=function(e){var t=e.orderEmail,r=void 0===t?"":t,a=e.orderPhone,o=void 0===a?"":a;return function(){var e=Object(c.a)(n.a.mark((function e(t){var a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(s.l)()),e.prev=1,e.next=4,d.a.get("/orders?page=1&limit=10&email=".concat(r,"&phone=").concat(o));case 4:a=e.sent,c=a.data,t(Object(s.m)(c.orders)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(Object(s.k)(e.t0.response.data.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(r){var a,c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Object(s.i)()),t.prev=1,t.next=4,d.a.get("/orders/".concat(e));case 4:a=t.sent,c=a.data,r(Object(s.j)(c.order)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r(Object(s.h)(t.t0.response.data.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},114:function(e,t,r){e.exports={CartGoodsList:"CartGoods_CartGoodsList__3r1ly",CartGoodsList__Item:"CartGoods_CartGoodsList__Item__UK03-",Card:"CartGoods_Card__2yzYS",Card__Img:"CartGoods_Card__Img__sD_bi",Card__Body:"CartGoods_Card__Body__23H0U"}},115:function(e,t,r){e.exports={form:"OrderForm_form__3MsvE",label:"OrderForm_label__21XAV",button:"OrderForm_button__2z92U"}},116:function(e,t,r){e.exports={AreasList:"ShoppingCartPage_AreasList__31s8T",AreasList__Item:"ShoppingCartPage_AreasList__Item__1qRw-"}},121:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return B}));var a=r(21),n=r(108),c=r(8),s=r(3),o=r(9),d=r.n(o),i=r(0),u=r(19),j=r(14),l=r(112),b=i.createContext(null);b.displayName="InputGroupContext";var O=b,m=r(1),p=["bsPrefix","size","hasValidation","className","as"],h=Object(u.a)("input-group-text",{Component:"span"}),f=i.forwardRef((function(e,t){var r=e.bsPrefix,a=e.size,n=e.hasValidation,o=e.className,u=e.as,l=void 0===u?"div":u,b=Object(c.a)(e,p);r=Object(j.b)(r,"input-group");var h=Object(i.useMemo)((function(){return{}}),[]);return Object(m.jsx)(O.Provider,{value:h,children:Object(m.jsx)(l,Object(s.a)(Object(s.a)({ref:t},b),{},{className:d()(o,r,a&&"".concat(r,"-").concat(a),n&&"has-validation")}))})}));f.displayName="InputGroup";var x=Object.assign(f,{Text:h,Radio:function(e){return Object(m.jsx)(h,{children:Object(m.jsx)(l.a,Object(s.a)({type:"radio"},e))})},Checkbox:function(e){return Object(m.jsx)(h,{children:Object(m.jsx)(l.a,Object(s.a)({type:"checkbox"},e))})}}),_=r(120),g=r(107),v=r(18),C=r(110),y=r(57),N=r(24),L=r(25),A=r(111),I=r(58),G=r(114),E=r.n(G);function k(){var e=Object(v.b)(),t=Object(i.useState)(0),r=Object(a.a)(t,2),c=r[0],s=r[1],o=Object(v.c)(C.a.getName),d=Object(v.c)(C.a.getEmail),u=Object(v.c)(C.a.getPhone),j=Object(v.c)(C.a.getAddresss),l=Object(v.c)(y.a.getCart),b=Object(v.c)(N.a.getActualShop),O=function(t){var r=t.target,a=r.name,n=r.value,c=Number(n);e(0===c?Object(L.c)({_id:a}):Object(L.d)({_id:a,quantity:c}))};Object(i.useEffect)((function(){s(l.reduce((function(e,t){return e+t.quantity*t.good.price}),0).toFixed(2))}),[l]);return Object(m.jsxs)("div",{children:[Object(m.jsx)("ul",{className:E.a.CartGoodsList,children:l.map((function(e){return Object(m.jsx)("li",{className:E.a.CartGoodsList__Item,children:Object(m.jsxs)(n.a,{className:E.a.Card,border:"primary",children:[Object(m.jsx)(n.a.Img,{src:e.good.picture?e.good.picture:I.a,className:E.a.Card__Img}),Object(m.jsxs)(n.a.Body,{className:E.a.Card__Body,children:[Object(m.jsx)(n.a.Title,{className:E.a.Card__Title,children:e.good.name}),Object(m.jsxs)(n.a.Text,{children:["Price: ",e.good.price]}),Object(m.jsx)(x,{children:Object(m.jsx)(_.a.Control,{value:e.quantity,name:e.good._id,type:"number",onChange:O})})]})]})},e.good._id)}))}),Object(m.jsxs)("h3",{children:["Total price: ",c]}),Object(m.jsx)(g.a,{className:E.a.button,onClick:function(t){t.preventDefault(),e(Object(A.a)({name:o,email:d,phone:u,address:j,shop:b,price:c,cart:l}))},type:"submit",children:"Submit"})]})}var w=r(6),P=r(46),X=r(115),S=r.n(X);function T(){var e=Object(v.b)(),t=Object(v.c)(C.a.getName),r=Object(v.c)(C.a.getEmail),a=Object(v.c)(C.a.getPhone),n=Object(v.c)(C.a.getAddresss),c=Object(v.c)(C.a.getAddOrderErrors),s=Object(v.c)(C.a.getAddedOrder),o=function(t){var r=t.target,a=r.name,n=r.value;switch(a){case"name":return e(Object(w.f)(n));case"email":return e(Object(w.e)(n));case"phone":return e(Object(w.g)(n));case"address":return e(Object(w.d)(n));default:return}};return Object(m.jsxs)("div",{children:[Object(m.jsxs)(_.a,{className:S.a.form,onSubmit:function(e){e.preventDefault()},children:[Object(m.jsxs)(_.a.Group,{className:"mb-3",controlId:"name",children:[Object(m.jsx)(_.a.Label,{children:"Name"}),Object(m.jsx)(_.a.Control,{type:"text",name:"name",placeholder:"Enter your name",value:t,onChange:o})]}),Object(m.jsxs)(_.a.Group,{className:"mb-3",controlId:"email",children:[Object(m.jsx)(_.a.Label,{children:"Email"}),Object(m.jsx)(_.a.Control,{type:"email",name:"email",placeholder:"Enter your email",value:r,onChange:o})]}),Object(m.jsxs)(_.a.Group,{className:"mb-3",controlId:"phone",children:[Object(m.jsx)(_.a.Label,{children:"Phone"}),Object(m.jsx)(_.a.Control,{type:"tel",name:"phone",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",title:"XXX-XXX-XXXX",placeholder:"Enter your phone",value:a,onChange:o})]}),Object(m.jsxs)(_.a.Group,{className:"mb-3",controlId:"address",children:[Object(m.jsx)(_.a.Label,{children:"Address"}),Object(m.jsx)(_.a.Control,{type:"address",name:"address",placeholder:"Enter your address",value:n,onChange:o})]})]}),c&&Object(m.jsx)(P.a,{message:c}),s._id&&Object(m.jsx)("h2",{children:"Thank you for your order. Orders Id=".concat(s._id)})]})}var F=r(116),q=r.n(F);function z(){return Object(m.jsx)("div",{children:Object(m.jsxs)("ul",{className:q.a.AreasList,children:[Object(m.jsx)("li",{className:q.a.AreasList__Item,children:Object(m.jsx)(T,{})}),Object(m.jsx)("li",{className:q.a.AreasList__Item,children:Object(m.jsx)(k,{})})]})})}function B(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(z,{})})}}}]);
//# sourceMappingURL=ShoppingCartView.a7aa7ed8.chunk.js.map