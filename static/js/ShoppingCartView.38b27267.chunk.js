(this["webpackJsonpeliftech-app"]=this["webpackJsonpeliftech-app"]||[]).push([[4],{108:function(e,t,r){"use strict";var a={getOrdersError:function(e){return e.orders.ordersError},getOrdersLoading:function(e){return e.orders.ordersLoading},getOrders:function(e){return e.orders.orders},getAddOrderErrors:function(e){return e.orders.addOrderErrors},getAddOrderLoading:function(e){return e.orders.addOrderLoading},getName:function(e){return e.orders.name},getEmail:function(e){return e.orders.email},getPhone:function(e){return e.orders.phone},getAddresss:function(e){return e.orders.address}};t.a=a},109:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"c",(function(){return u})),r.d(t,"b",(function(){return l}));var a=r(39),n=r.n(a),c=r(45),s=r(6),o=r(40),i=r.n(o),d=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(r){var a,c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Object(s.b)()),t.prev=1,t.next=4,i.a.patch("/orders",e);case 4:a=t.sent,c=a.data,r(Object(s.c)(c.order)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r(Object(s.a)(t.t0.response.data.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},u=function(e){var t=e.orderEmail,r=void 0===t?"":t,a=e.orderPhone,o=void 0===a?"":a;return function(){var e=Object(c.a)(n.a.mark((function e(t){var a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Object(s.l)()),e.prev=1,e.next=4,i.a.get("/orders?page=1&limit=10&email=".concat(r,"&phone=").concat(o));case 4:a=e.sent,c=a.data,console.log(c),t(Object(s.m)(c.orders)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t(Object(s.k)(e.t0.response.data.message));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},l=function(e){return function(){var t=Object(c.a)(n.a.mark((function t(r){var a,c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(Object(s.i)()),t.prev=1,t.next=4,i.a.get("/orders/".concat(e));case 4:a=t.sent,c=a.data,r(Object(s.j)(c.order)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),r(Object(s.h)(t.t0.response.data.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}},112:function(e,t,r){e.exports={CartGoodsList:"CartGoods_CartGoodsList__3r1ly",CartGoodsList__Item:"CartGoods_CartGoodsList__Item__UK03-",Card:"CartGoods_Card__2yzYS",Card__Img:"CartGoods_Card__Img__sD_bi",Card__Body:"CartGoods_Card__Body__23H0U"}},113:function(e,t,r){e.exports={form:"OrderForm_form__3MsvE",label:"OrderForm_label__21XAV",button:"OrderForm_button__2z92U"}},114:function(e,t,r){e.exports={AreasList:"ShoppingCartPage_AreasList__31s8T",AreasList__Item:"ShoppingCartPage_AreasList__Item__1qRw-"}},120:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return B}));var a=r(21),n=r(106),c=r(8),s=r(3),o=r(9),i=r.n(o),d=r(0),u=r(19),l=r(14),j=r(110),b=d.createContext(null);b.displayName="InputGroupContext";var O=b,m=r(1),p=["bsPrefix","size","hasValidation","className","as"],h=Object(u.a)("input-group-text",{Component:"span"}),f=d.forwardRef((function(e,t){var r=e.bsPrefix,a=e.size,n=e.hasValidation,o=e.className,u=e.as,j=void 0===u?"div":u,b=Object(c.a)(e,p);r=Object(l.b)(r,"input-group");var h=Object(d.useMemo)((function(){return{}}),[]);return Object(m.jsx)(O.Provider,{value:h,children:Object(m.jsx)(j,Object(s.a)(Object(s.a)({ref:t},b),{},{className:i()(o,r,a&&"".concat(r,"-").concat(a),n&&"has-validation")}))})}));f.displayName="InputGroup";var x=Object.assign(f,{Text:h,Radio:function(e){return Object(m.jsx)(h,{children:Object(m.jsx)(j.a,Object(s.a)({type:"radio"},e))})},Checkbox:function(e){return Object(m.jsx)(h,{children:Object(m.jsx)(j.a,Object(s.a)({type:"checkbox"},e))})}}),_=r(119),g=r(103),v=r(17),C=r(108),y=r(47),N=r(24),L=r(25),G=r(109),I=r(49),A=r(112),E=r.n(A);function k(){var e=Object(v.b)(),t=Object(d.useState)(0),r=Object(a.a)(t,2),c=r[0],s=r[1],o=Object(v.c)(C.a.getName),i=Object(v.c)(C.a.getEmail),u=Object(v.c)(C.a.getPhone),l=Object(v.c)(C.a.getAddresss),j=Object(v.c)(y.a.getCart),b=Object(v.c)(N.a.getActualShop),O=function(t){var r=t.target,a=r.name,n=r.value,c=Number(n);console.log(n),e(0===c?Object(L.c)({_id:a}):Object(L.d)({_id:a,quantity:c}))};Object(d.useEffect)((function(){s(j.reduce((function(e,t){return e+t.quantity*t.good.price}),0).toFixed(2))}),[j]);return Object(m.jsxs)("div",{children:[Object(m.jsx)("ul",{className:E.a.CartGoodsList,children:j.map((function(e){return Object(m.jsx)("li",{className:E.a.CartGoodsList__Item,children:Object(m.jsxs)(n.a,{className:E.a.Card,border:"primary",children:[Object(m.jsx)(n.a.Img,{src:e.good.picture?e.good.picture:I.a,className:E.a.Card__Img}),Object(m.jsxs)(n.a.Body,{className:E.a.Card__Body,children:[Object(m.jsx)(n.a.Title,{className:E.a.Card__Title,children:e.good.name}),Object(m.jsxs)(n.a.Text,{children:["Price: ",e.good.price]}),Object(m.jsx)(x,{children:Object(m.jsx)(_.a.Control,{value:e.quantity,name:e.good._id,type:"number",onChange:O})})]})]})},e.good._id)}))}),Object(m.jsxs)("h3",{children:["Total price: ",c]}),Object(m.jsx)(g.a,{className:E.a.button,onClick:function(t){t.preventDefault(),e(Object(G.a)({name:o,email:i,phone:u,address:l,shop:b,price:c,cart:j}))},children:"Submit"})]})}var w=r(6),P=r(113),S=r.n(P);function T(){var e=Object(v.b)(),t=Object(v.c)(C.a.getName),r=Object(v.c)(C.a.getEmail),a=Object(v.c)(C.a.getPhone),n=Object(v.c)(C.a.getAddresss),c=function(t){var r=t.target,a=r.name,n=r.value;switch(a){case"name":return e(Object(w.f)(n));case"email":return e(Object(w.e)(n));case"phone":return e(Object(w.g)(n));case"address":return e(Object(w.d)(n));default:return}};return Object(m.jsx)("div",{children:Object(m.jsxs)(_.a,{className:S.a.form,onSubmit:function(e){e.preventDefault()},children:[Object(m.jsxs)(_.a.Group,{className:"mb-3",controlId:"name",children:[Object(m.jsx)(_.a.Label,{children:"Name"}),Object(m.jsx)(_.a.Control,{type:"text",name:"name",placeholder:"Enter your name",value:t,onChange:c})]}),Object(m.jsxs)(_.a.Group,{className:"mb-3",controlId:"email",children:[Object(m.jsx)(_.a.Label,{children:"Email"}),Object(m.jsx)(_.a.Control,{type:"email",name:"email",placeholder:"Enter your email",value:r,onChange:c})]}),Object(m.jsxs)(_.a.Group,{className:"mb-3",controlId:"phone",children:[Object(m.jsx)(_.a.Label,{children:"Phone"}),Object(m.jsx)(_.a.Control,{type:"phone",name:"phone",placeholder:"Enter your phone",value:a,onChange:c})]}),Object(m.jsxs)(_.a.Group,{className:"mb-3",controlId:"address",children:[Object(m.jsx)(_.a.Label,{children:"Address"}),Object(m.jsx)(_.a.Control,{type:"address",name:"address",placeholder:"Enter your address",value:n,onChange:c})]})]})})}var F=r(114),q=r.n(F);function z(){return Object(m.jsx)("div",{children:Object(m.jsxs)("ul",{className:q.a.AreasList,children:[Object(m.jsx)("li",{className:q.a.AreasList__Item,children:Object(m.jsx)(T,{})}),Object(m.jsx)("li",{className:q.a.AreasList__Item,children:Object(m.jsx)(k,{})})]})})}function B(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(z,{})})}}}]);
//# sourceMappingURL=ShoppingCartView.38b27267.chunk.js.map