"use strict";(self.webpackChunkeliftech_app=self.webpackChunkeliftech_app||[]).push([[708],{8332:function(e,r,t){t.d(r,{AU:function(){return d},Ju:function(){return l},fS:function(){return i}});var o=t(4165),n=t(5861),a=t(5082),s=t(4569),c=t.n(s),i=function(e){return function(){var r=(0,n.Z)((0,o.Z)().mark((function r(t){var n,s;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t((0,a.Km)()),r.prev=1,r.next=4,c().patch("/orders",e);case 4:n=r.sent,s=n.data,t((0,a.MS)(s.order)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),t((0,a.WV)(r.t0.response.data.message));case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()},d=function(e){var r=e.orderEmail,t=void 0===r?"":r,s=e.orderPhone,i=void 0===s?"":s;return function(){var e=(0,n.Z)((0,o.Z)().mark((function e(r){var n,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,a.a_)()),e.prev=1,e.next=4,c().get("/orders?page=1&limit=10&email=".concat(t,"&phone=").concat(i));case 4:n=e.sent,s=n.data,r((0,a.Ow)(s.orders)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r((0,a.W1)(e.t0.response.data.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(r){return e.apply(this,arguments)}}()},l=function(e){return function(){var r=(0,n.Z)((0,o.Z)().mark((function r(t){var n,s;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t((0,a.mJ)()),r.prev=1,r.next=4,c().get("/orders/".concat(e));case 4:n=r.sent,s=n.data,t((0,a.DJ)(s.order)),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),t((0,a.OC)(r.t0.response.data.message));case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()}},4668:function(e,r){var t={getOrdersError:function(e){return e.orders.ordersError},getOrdersLoading:function(e){return e.orders.ordersLoading},getOrders:function(e){return e.orders.orders},getAddedOrder:function(e){return e.orders.addedOrder},getAddOrderErrors:function(e){return e.orders.addOrderErrors},getAddOrderLoading:function(e){return e.orders.addOrderLoading},getName:function(e){return e.orders.name},getEmail:function(e){return e.orders.email},getPhone:function(e){return e.orders.phone},getAddresss:function(e){return e.orders.address}};r.Z=t},8977:function(e,r,t){t.r(r),t.d(r,{default:function(){return B}});var o=t(885),n=t(2144),a=t(5987),s=t(1413),c=t(1694),i=t.n(c),d=t(2791),l=t(6543),u=t(162),p=t(6882),m=d.createContext(null);m.displayName="InputGroupContext";var g=m,f=t(184),h=["bsPrefix","size","hasValidation","className","as"],v=(0,l.Z)("input-group-text",{Component:"span"}),x=d.forwardRef((function(e,r){var t=e.bsPrefix,o=e.size,n=e.hasValidation,c=e.className,l=e.as,p=void 0===l?"div":l,m=(0,a.Z)(e,h);t=(0,u.vE)(t,"input-group");var v=(0,d.useMemo)((function(){return{}}),[]);return(0,f.jsx)(g.Provider,{value:v,children:(0,f.jsx)(p,(0,s.Z)((0,s.Z)({ref:r},m),{},{className:i()(c,t,o&&"".concat(t,"-").concat(o),n&&"has-validation")}))})}));x.displayName="InputGroup";var _=Object.assign(x,{Text:v,Radio:function(e){return(0,f.jsx)(v,{children:(0,f.jsx)(p.Z,(0,s.Z)({type:"radio"},e))})},Checkbox:function(e){return(0,f.jsx)(v,{children:(0,f.jsx)(p.Z,(0,s.Z)({type:"checkbox"},e))})}}),j=t(241),Z=t(3360),y=t(1899),b=t(4668),C=t(2237),O=t(4659),I=t(682),L=t(8332),A=t(9764),P={CartGoodsList:"CartGoods_CartGoodsList__tQgD2",CartGoodsList__Item:"CartGoods_CartGoodsList__Item__HoPMo",Card:"CartGoods_Card__noOFs",Card__Img:"CartGoods_Card__Img__2QXaX",Card__Body:"CartGoods_Card__Body__EXsRt"};function E(){var e=(0,y.I0)(),r=(0,d.useState)(0),t=(0,o.Z)(r,2),a=t[0],s=t[1],c=(0,y.v9)(b.Z.getName),i=(0,y.v9)(b.Z.getEmail),l=(0,y.v9)(b.Z.getPhone),u=(0,y.v9)(b.Z.getAddresss),p=(0,y.v9)(C.Z.getCart),m=(0,y.v9)(O.Z.getActualShop),g=function(r){var t=r.target,o=t.name,n=t.value,a=Number(n);e(0===a?(0,I.h2)({_id:o}):(0,I.xu)({_id:o,quantity:a}))};(0,d.useEffect)((function(){s(p.reduce((function(e,r){return e+r.quantity*r.good.price}),0).toFixed(2))}),[p]);return(0,f.jsxs)("div",{children:[(0,f.jsx)("ul",{className:P.CartGoodsList,children:p.map((function(e){return(0,f.jsx)("li",{className:P.CartGoodsList__Item,children:(0,f.jsxs)(n.Z,{className:P.Card,border:"primary",children:[(0,f.jsx)(n.Z.Img,{src:e.good.picture?e.good.picture:A,className:P.Card__Img}),(0,f.jsxs)(n.Z.Body,{className:P.Card__Body,children:[(0,f.jsx)(n.Z.Title,{className:P.Card__Title,children:e.good.name}),(0,f.jsxs)(n.Z.Text,{children:["Price: ",e.good.price]}),(0,f.jsx)(_,{children:(0,f.jsx)(j.Z.Control,{value:e.quantity,name:e.good._id,type:"number",onChange:g})})]})]})},e.good._id)}))}),(0,f.jsxs)("h3",{children:["Total price: ",a]}),(0,f.jsx)(Z.Z,{className:P.button,onClick:function(r){r.preventDefault(),e((0,L.fS)({name:c,email:i,phone:l,address:u,shop:m,price:a,cart:p}))},type:"submit",children:"Submit"})]})}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},N.apply(this,arguments)}var S="https://maps.googleapis.com/maps/api/js",k=d.createContext({googleMapsAPIIsLoaded:!1}),G=function(e){var r=e.children,t=e.googleMapsAPIKey,n=e.mapContainer,a=e.mapOptions,s=e.libraries,c=e.language,i=e.region,l=e.version,u=e.authReferrerPolicy,p=e.onLoadScript,m=e.onLoadMap,g=(0,d.useState)(!0),f=(0,o.Z)(g,2),h=f[0],v=f[1],x=(0,d.useState)(),_=(0,o.Z)(x,2),j=_[0],Z=_[1];return(0,d.useEffect)((function(){var e=function(){v(!1),p&&p()},r=navigator.language.slice(0,2),o=navigator.language.slice(3,5),n=new URLSearchParams(N({key:t,language:c||r,region:i||o},(null==s?void 0:s.length)&&{libraries:s.join(",")},l&&{v:l},u&&{auth_referrer_policy:u})),a=document.querySelector('script[src^="'.concat(S,'"]'));if(a){var d=new URL(a.src);d.searchParams.toString()!==n.toString()&&console.error("The Google Maps API Parameters passed to the `GoogleMapsProvider` components do not match. The Google Maps API can only be loaded once. Please make sure to pass the same API parameters to all of your `GoogleMapsProvider` components.","\n\nExpected parameters:",Object.fromEntries(d.searchParams),"\n\nReceived parameters:",Object.fromEntries(n))}if("object"===typeof google&&"object"===typeof google.maps)e();else if(a){v(!0);var m=a.onload;a.onload=function(r){null==m||m.call(a,r),e()}}else{v(!0),window.mapsCallback=function(){e()},n.set("callback","mapsCallback");var g=document.createElement("script");g.type="text/javascript",g.src="".concat(S,"?").concat(n.toString()),document.getElementsByTagName("head")[0].appendChild(g)}return function(){document.querySelectorAll('script[src^="https://maps.googleapis.com"]').forEach((function(e){e.remove()})),"object"===typeof google&&"object"===typeof google.maps&&delete google.maps}}),[t,JSON.stringify(s),c,i,l,u]),(0,d.useEffect)((function(){if(h||!n||"object"!==typeof google||"object"!==typeof google.maps)return function(){};var e=new google.maps.Map(n,a);return google.maps.event.addListenerOnce(e,"idle",(function(){m&&e&&m(e)})),Z(e),function(){e&&"object"===typeof google&&"object"===typeof google.maps&&google.maps.event.clearInstanceListeners(e)}}),[h,n]),d.createElement(k.Provider,{value:{map:j,googleMapsAPIIsLoaded:!h}},r)},w=t(5082),M=t(8118),X={form:"OrderForm_form__jLuzv",label:"OrderForm_label__6LoWo",button:"OrderForm_button__Ja4Cq"};function R(){var e=(0,y.I0)(),r=(0,d.useState)(null),t=(0,o.Z)(r,2),n=t[0],a=t[1],s=(0,d.useState)(53.5582447),c=(0,o.Z)(s,2),i=c[0],l=c[1],u=(0,d.useState)(9.647645),p=(0,o.Z)(u,2),m=p[0],g=p[1],h=(0,d.useCallback)((function(e){e&&a(e)}),[]);(0,d.useEffect)((function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){l(e.coords.latitude),g(e.coords.longitude),console.log(e.coords.latitude,e.coords.longitude)}),(function(e){alert(e.message)})):alert("Geolocation is not supported by your browser")}),[]);var v={center:{lat:i,lng:m},zoom:14,disableDefaultUI:!0,zoomControl:!0,zoomControlOptions:{position:3}},x=(0,y.v9)(b.Z.getName),_=(0,y.v9)(b.Z.getEmail),Z=(0,y.v9)(b.Z.getPhone),C=(0,y.v9)(b.Z.getAddresss),O=(0,y.v9)(b.Z.getAddOrderErrors),I=(0,y.v9)(b.Z.getAddedOrder),L=function(r){var t=r.target,o=t.name,n=t.value;switch(o){case"name":return e((0,w.eu)(n));case"email":return e((0,w.Uk)(n));case"phone":return e((0,w.OW)(n));case"address":return e((0,w.de)(n));default:return}};return(0,f.jsxs)("div",{children:[(0,f.jsx)(G,{googleMapsAPIKey:"AIzaSyBJj2Hri6OYehvSzAyAgRYR5BxF5JwOHb4",mapContainer:n,mapOptions:v,children:(0,f.jsx)(d.StrictMode,{children:(0,f.jsx)("div",{ref:h,style:{height:"300px"}})})}),(0,f.jsxs)(j.Z,{className:X.form,children:[(0,f.jsxs)(j.Z.Group,{className:"mb-3",controlId:"name",children:[(0,f.jsx)(j.Z.Label,{children:"Name"}),(0,f.jsx)(j.Z.Control,{type:"text",name:"name",placeholder:"Enter your name",value:x,onChange:L})]}),(0,f.jsxs)(j.Z.Group,{className:"mb-3",controlId:"email",children:[(0,f.jsx)(j.Z.Label,{children:"Email"}),(0,f.jsx)(j.Z.Control,{type:"email",name:"email",placeholder:"Enter your email",value:_,onChange:L})]}),(0,f.jsxs)(j.Z.Group,{className:"mb-3",controlId:"phone",children:[(0,f.jsx)(j.Z.Label,{children:"Phone"}),(0,f.jsx)(j.Z.Control,{type:"tel",name:"phone",pattern:"[0-9]{3}-[0-9]{3}-[0-9]{4}",title:"XXX-XXX-XXXX",placeholder:"Enter your phone",value:Z,onChange:L})]}),(0,f.jsxs)(j.Z.Group,{className:"mb-3",controlId:"address",children:[(0,f.jsx)(j.Z.Label,{children:"Address"}),(0,f.jsx)(j.Z.Control,{type:"address",name:"address",placeholder:"Enter your address",value:C,onChange:L})]})]}),O&&(0,f.jsx)(M.Z,{message:O}),I._id&&(0,f.jsx)("h2",{children:"Thank you for your order. Orders Id is ".concat(I._id)})]})}var T={AreasList:"ShoppingCartPage_AreasList__URU7k",AreasList__Item:"ShoppingCartPage_AreasList__Item__7-bAp"};function z(){return(0,f.jsx)("div",{children:(0,f.jsxs)("ul",{className:T.AreasList,children:[(0,f.jsx)("li",{className:T.AreasList__Item,children:(0,f.jsx)(R,{})}),(0,f.jsx)("li",{className:T.AreasList__Item,children:(0,f.jsx)(E,{})})]})})}function B(){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(z,{})})}}}]);
//# sourceMappingURL=ShoppingCartView.1313580d.chunk.js.map